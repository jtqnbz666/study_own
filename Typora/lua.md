lua本身是单线程，skynet中能多线程是因为每个服务一个虚拟机，每个虚拟机都可以是一个线程，或者是去调用c++，c++自己来实现。

lua 调用 c 的函数都得到一个新的栈，独立于之前的栈；

栈的结构在lua_State 结构体中

每个服务都有一个全局注册表，通过这个注册表来达到不同c文件的交流

require “   ”      先找有没有对应的lua文件，再找c模块(.so)，并且会把该模块的模块名当作参数传递给该模块

package.path 是找的lua文件的位置

package.cpath 是找的动态库(.so)的位置

redis中的原子性可以用lua脚本实现。

go_mysql_transfer 用lua脚本配置同步方式。



lua提供了一张注册表，LUA_REGISTRYINDEX是伪索引(也就是这张注册表的索引)，可以利用它来做一些事情，每个服务都有独立的注册表

没有显式的函数可以用来关闭或销毁掉一个线程。
线程跟其它 Lua 对象一样是垃圾收集的条目之一





